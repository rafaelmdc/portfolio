{% extends "base.html" %}
{% load static %}

{% block title %}Contact{% endblock %}
{% block body_class %}contact-page{% endblock %}

{% block content %}
<section id="contact" class="section py-5">
  <div class="container">

    <!-- Header -->
    <div class="text-center mb-5" data-aos="fade-up">
      <h2 class="mb-2">Contact</h2>
      <p class="text-body-secondary mb-0">
        Fastest way to reach me: email. You can also find me on GitHub and LinkedIn.
      </p>
    </div>

    <div class="row g-4 justify-content-center" data-aos="fade-up" data-aos-delay="100">

      <!-- Email -->
      <div class="col-12 col-lg-6">
        <div class="card border-0 shadow-sm h-100 contact-card">
          <div class="card-body p-4 p-md-5">
            <div class="d-flex align-items-start gap-3">
              <div class="icon-pill">
                <!-- envelope icon (inline svg) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.708 2.825L15 11.105V5.383zM14.247 12H1.753l5.5-3.3L8 9.083l.747-.383 5.5 3.3zM1 11.105l4.708-2.897L1 5.383v5.722z"/>
                </svg>
              </div>
              <div class="flex-grow-1">
                <h5 class="mb-1">Email</h5>
                <p class="text-body-secondary mb-3">I usually reply within 24–48 hours.</p>

                <div class="p-3 rounded-3 border bg-body-tertiary d-flex flex-column flex-sm-row align-items-sm-center justify-content-between gap-3">
                  <div class="fw-semibold text-break" id="emailText">rafaelmdcorreia@gmail.com</div>
                  <div class="d-flex gap-2">
                    <a class="btn btn-primary btn-sm"
                       href="mailto:rafaelmdcorreia@gmail.com?subject=Hello%20Rafael&body=Hi%20Rafael%2C%0A%0A"
                       aria-label="Send email">
                      Email me
                    </a>
                    <button class="btn btn-outline-secondary btn-sm" type="button" id="copyBtn" aria-label="Copy email">
                      Copy
                    </button>
                  </div>
                </div>

                <div class="small text-success mt-2 d-none" id="copyToast" role="status" aria-live="polite">
                  Copied to clipboard ✅
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Links -->
      <div class="col-12 col-lg-6">
        <div class="card border-0 shadow-sm h-100 contact-card">
          <div class="card-body p-4 p-md-5">
            <div class="d-flex align-items-start gap-3">
              <div class="icon-pill">
                <!-- link icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path d="M6.354 5.5H4a3 3 0 0 0 0 6h2.354a.5.5 0 0 1 0 1H4a4 4 0 0 1 0-8h2.354a.5.5 0 1 1 0 1zm3.292 0H12a4 4 0 0 1 0 8H9.646a.5.5 0 0 1 0-1H12a3 3 0 0 0 0-6H9.646a.5.5 0 1 1 0-1z"/>
                  <path d="M5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5A.5.5 0 0 1 5 8z"/>
                </svg>
              </div>

              <div class="flex-grow-1">
                <h5 class="mb-1">Profiles</h5>
                <p class="text-body-secondary mb-4">Code, projects, and professional updates.</p>

                <div class="d-grid gap-3">
                  <a class="btn btn-outline-light text-start d-flex align-items-center justify-content-between profile-btn"
                    href="https://github.com/rafaelmdc"
                    target="_blank" rel="noopener">
                    <span class="d-flex align-items-center gap-2">
                      <!-- github icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                      </svg>
                      <span>
                        <span class="fw-semibold">GitHub</span>
                        <span class="d-block small text-body-secondary">Projects & repositories</span>
                      </span>
                    </span>
                    <span class="small text-body-secondary">Open ↗</span>
                  </a>

                  <a class="btn btn-outline-light text-start d-flex align-items-center justify-content-between profile-btn"
                    href="https://www.linkedin.com/in/rafael-alexandre-correia-2b8a33213/"
                    target="_blank" rel="noopener">
                    <span class="d-flex align-items-center gap-2">
                      <!-- linkedin icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zM3.743 5.169c.837 0 1.358-.554 1.358-1.248-.015-.709-.521-1.248-1.342-1.248-.821 0-1.358.54-1.358 1.248 0 .694.521 1.248 1.327 1.248h.015zm4.908 8.225V9.359c0-.216.016-.432.08-.586.173-.432.568-.88 1.232-.88.869 0 1.216.664 1.216 1.637v3.864h2.401V9.243c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169H6.25c.03.694 0 7.225 0 7.225h2.401z"/>
                      </svg>
                      <span>
                        <span class="fw-semibold">LinkedIn</span>
                        <span class="d-block small text-body-secondary">Experience & updates</span>
                      </span>
                    </span>
                    <span class="small text-body-secondary">Open ↗</span>
                  </a>
                </div>

                <hr class="my-4">

                <div class="small text-body-secondary">
                  Prefer email for anything important. Social links are great for quick context.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
</section>

<style>
  /* Keep it self-contained; plays nicely with your Bootstrap theme */
  .contact-card {
    border-radius: 1.25rem;
    background: rgba(255,255,255,0.02);
    backdrop-filter: blur(6px);
  }
  .icon-pill{
    width: 44px; height: 44px;
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: 999px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.08);
    flex: 0 0 auto;
  }
  .profile-btn{
    border-radius: 1rem;
    padding: 0.9rem 1rem;
    border-color: rgba(255,255,255,0.12) !important;
    background: rgba(255,255,255,0.02);
  }
  .profile-btn:hover{
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.18) !important;
    transform: translateY(-1px);
  }
  @media (prefers-reduced-motion: no-preference){
    .profile-btn{ transition: transform .12s ease, background .12s ease, border-color .12s ease; }
  }
</style>

<script>
  // Copy-to-clipboard for the email
  (function () {
    const btn = document.getElementById('copyBtn');
    const email = document.getElementById('emailText');
    const toast = document.getElementById('copyToast');
    if (!btn || !email) return;

    btn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(email.textContent.trim());
        if (toast) {
          toast.classList.remove('d-none');
          clearTimeout(window.__copyToastTimer);
          window.__copyToastTimer = setTimeout(() => toast.classList.add('d-none'), 1800);
        }
      } catch (e) {
        // fallback: select text
        const range = document.createRange();
        range.selectNodeContents(email);
        const sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
        document.execCommand('copy');
        sel.removeAllRanges();
        if (toast) {
          toast.classList.remove('d-none');
          clearTimeout(window.__copyToastTimer);
          window.__copyToastTimer = setTimeout(() => toast.classList.add('d-none'), 1800);
        }
      }
    });
  })();
</script>
{% endblock %}
